<?php

$urole = get_user_role(session()->user_id);

if($urole == 'churchadmin'){

  $att_link = get_att_link();
  //$att_link = get_att_link_church();
}

if($urole == 'user'){

  $att_link = get_sub_user_att_link();
  //$att_link = get_att_link_church();

}

?>
<div class="sidebar-wrapper">
        <nav class="col-xl-2 col-lg-3 col-md-3 d-none d-md-block sidebar" id="mySidebar">
          <button class="toggle-btn" onclick="toggleNav()">
            <img src="<?php echo base_url(); ?>/public/Dashboard/assets/sidebar-btn.png" alt="" />
          </button>
          <div class="sidebar-sticky">
            <div class="text-center">
              <svg class="logo" width="80" height="80" viewBox="0 0 54 43" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <rect x="14" width="26" height="24" fill="url(#pattern0_506_2)" />
                <path class="logo"
                  d="M4.169 40.165C3.377 40.165 2.69317 39.9927 2.1175 39.648C1.5455 39.3033 1.10367 38.8212 0.792 38.2015C0.484 37.5818 0.33 36.8613 0.33 36.04C0.33 35.2187 0.484 34.4982 0.792 33.8785C1.10367 33.2588 1.5455 32.7767 2.1175 32.432C2.69317 32.0873 3.377 31.915 4.169 31.915C5.07833 31.915 5.841 32.1405 6.457 32.5915C7.07667 33.0425 7.513 33.653 7.766 34.423L6.259 34.841C6.11233 34.3607 5.86483 33.9885 5.5165 33.7245C5.16817 33.4568 4.719 33.323 4.169 33.323C3.66667 33.323 3.24683 33.4348 2.9095 33.6585C2.57583 33.8822 2.32467 34.1975 2.156 34.6045C1.98733 35.0115 1.903 35.49 1.903 36.04C1.903 36.59 1.98733 37.0685 2.156 37.4755C2.32467 37.8825 2.57583 38.1978 2.9095 38.4215C3.24683 38.6452 3.66667 38.757 4.169 38.757C4.719 38.757 5.16817 38.6232 5.5165 38.3555C5.86483 38.0878 6.11233 37.7157 6.259 37.239L7.766 37.657C7.513 38.427 7.07667 39.0375 6.457 39.4885C5.841 39.9395 5.07833 40.165 4.169 40.165ZM11.65 40.165C11.0524 40.165 10.528 40.0312 10.077 39.7635C9.62603 39.4958 9.27403 39.1273 9.02103 38.658C8.7717 38.185 8.64703 37.6423 8.64703 37.03C8.64703 36.4103 8.77536 35.8658 9.03203 35.3965C9.2887 34.9235 9.64253 34.555 10.0935 34.291C10.5445 34.027 11.0634 33.895 11.65 33.895C12.2477 33.895 12.772 34.0288 13.223 34.2965C13.6777 34.5642 14.0315 34.9345 14.2845 35.4075C14.5375 35.8768 14.664 36.4177 14.664 37.03C14.664 37.646 14.5357 38.1905 14.279 38.6635C14.026 39.1328 13.6722 39.5013 13.2175 39.769C12.7665 40.033 12.244 40.165 11.65 40.165ZM11.65 38.768C12.1304 38.768 12.4879 38.6067 12.7225 38.284C12.9609 37.9577 13.08 37.5397 13.08 37.03C13.08 36.502 12.959 36.0803 12.717 35.765C12.4787 35.4497 12.123 35.292 11.65 35.292C11.3237 35.292 11.056 35.3653 10.847 35.512C10.638 35.6587 10.4822 35.8622 10.3795 36.1225C10.2805 36.3828 10.231 36.6853 10.231 37.03C10.231 37.5617 10.3502 37.9852 10.5885 38.3005C10.8305 38.6122 11.1844 38.768 11.65 38.768ZM19.9215 40V37.195C19.9215 37.0593 19.9142 36.887 19.8995 36.678C19.8848 36.4653 19.839 36.2527 19.762 36.04C19.685 35.8273 19.5585 35.6495 19.3825 35.5065C19.2102 35.3635 18.9645 35.292 18.6455 35.292C18.5172 35.292 18.3797 35.3122 18.233 35.3525C18.0863 35.3928 17.9488 35.4717 17.8205 35.589C17.6922 35.7027 17.5858 35.8713 17.5015 36.095C17.4208 36.3187 17.3805 36.6157 17.3805 36.986L16.5225 36.579C16.5225 36.1097 16.6178 35.6697 16.8085 35.259C16.9992 34.8483 17.2852 34.5165 17.6665 34.2635C18.0515 34.0105 18.5355 33.884 19.1185 33.884C19.5842 33.884 19.9637 33.9628 20.257 34.1205C20.5503 34.2782 20.7777 34.478 20.939 34.72C21.104 34.962 21.2213 35.215 21.291 35.479C21.3607 35.7393 21.4028 35.9777 21.4175 36.194C21.4322 36.4103 21.4395 36.568 21.4395 36.667V40H19.9215ZM15.8625 40V34.06H17.1935V36.029H17.3805V40H15.8625ZM25.4077 42.805C25.0703 42.805 24.7495 42.75 24.4452 42.64C24.1408 42.5337 23.8677 42.3833 23.6257 42.189C23.3873 41.9983 23.193 41.7747 23.0427 41.518L24.4287 40.847C24.524 41.023 24.6597 41.1568 24.8357 41.2485C25.0153 41.3402 25.2097 41.386 25.4187 41.386C25.6423 41.386 25.8532 41.3475 26.0512 41.2705C26.2492 41.1972 26.4068 41.0853 26.5242 40.935C26.6452 40.7883 26.702 40.605 26.6947 40.385V38.658H26.8817V34.06H28.1907V40.407C28.1907 40.5537 28.1833 40.6912 28.1687 40.8195C28.1577 40.9515 28.1357 41.0817 28.1027 41.21C28.0073 41.573 27.8295 41.8718 27.5692 42.1065C27.3125 42.3412 26.9972 42.5153 26.6232 42.629C26.2492 42.7463 25.844 42.805 25.4077 42.805ZM25.2757 40.165C24.7293 40.165 24.2508 40.0275 23.8402 39.7525C23.4295 39.4775 23.1087 39.1035 22.8777 38.6305C22.6503 38.1575 22.5367 37.624 22.5367 37.03C22.5367 36.425 22.6522 35.8878 22.8832 35.4185C23.1178 34.9455 23.446 34.5733 23.8677 34.302C24.2893 34.0307 24.7843 33.895 25.3527 33.895C25.9173 33.895 26.3922 34.0325 26.7772 34.3075C27.1622 34.5825 27.4537 34.9565 27.6517 35.4295C27.8497 35.9025 27.9487 36.436 27.9487 37.03C27.9487 37.624 27.8478 38.1575 27.6462 38.6305C27.4482 39.1035 27.1512 39.4775 26.7552 39.7525C26.3592 40.0275 25.866 40.165 25.2757 40.165ZM25.5177 38.834C25.8513 38.834 26.1172 38.7588 26.3152 38.6085C26.5168 38.4582 26.6617 38.2473 26.7497 37.976C26.8377 37.7047 26.8817 37.3893 26.8817 37.03C26.8817 36.6707 26.8377 36.3553 26.7497 36.084C26.6617 35.8127 26.5205 35.6018 26.3262 35.4515C26.1355 35.3012 25.8843 35.226 25.5727 35.226C25.239 35.226 24.964 35.3085 24.7477 35.4735C24.535 35.6348 24.3773 35.853 24.2747 36.128C24.172 36.3993 24.1207 36.7 24.1207 37.03C24.1207 37.3637 24.1702 37.668 24.2692 37.943C24.3682 38.2143 24.5203 38.4307 24.7257 38.592C24.931 38.7533 25.195 38.834 25.5177 38.834ZM29.7309 40V34.06H31.0509V35.512L30.9079 35.325C30.9849 35.1197 31.0876 34.9327 31.2159 34.764C31.3443 34.5953 31.5019 34.456 31.6889 34.346C31.8319 34.258 31.9878 34.1902 32.1564 34.1425C32.3251 34.0912 32.4993 34.06 32.6789 34.049C32.8586 34.0343 33.0383 34.038 33.2179 34.06V35.457C33.0529 35.4057 32.8604 35.3892 32.6404 35.4075C32.4241 35.4222 32.2279 35.4717 32.0519 35.556C31.8759 35.6367 31.7274 35.7448 31.6064 35.8805C31.4854 36.0125 31.3938 36.1702 31.3314 36.3535C31.2691 36.5332 31.2379 36.7367 31.2379 36.964V40H29.7309ZM36.9177 40.165C36.3091 40.165 35.7719 40.0348 35.3062 39.7745C34.8442 39.5105 34.4812 39.1493 34.2172 38.691C33.9569 38.229 33.8267 37.701 33.8267 37.107C33.8267 36.458 33.9551 35.8933 34.2117 35.413C34.4684 34.9327 34.8222 34.5605 35.2732 34.2965C35.7242 34.0288 36.2431 33.895 36.8297 33.895C37.4531 33.895 37.9829 34.0417 38.4192 34.335C38.8556 34.6283 39.1782 35.0408 39.3872 35.5725C39.5962 36.1042 39.6696 36.7293 39.6072 37.448H38.1277V36.898C38.1277 36.293 38.0306 35.8585 37.8362 35.5945C37.6456 35.3268 37.3321 35.193 36.8957 35.193C36.3861 35.193 36.0102 35.3488 35.7682 35.6605C35.5299 35.9685 35.4107 36.425 35.4107 37.03C35.4107 37.5837 35.5299 38.0127 35.7682 38.317C36.0102 38.6177 36.3641 38.768 36.8297 38.768C37.1231 38.768 37.3742 38.7038 37.5832 38.5755C37.7922 38.4472 37.9517 38.262 38.0617 38.02L39.5577 38.449C39.3341 38.9917 38.9802 39.4133 38.4962 39.714C38.0159 40.0147 37.4897 40.165 36.9177 40.165ZM34.9487 37.448V36.337H38.8867V37.448H34.9487ZM43.3901 42.805C43.0528 42.805 42.7319 42.75 42.4276 42.64C42.1233 42.5337 41.8501 42.3833 41.6081 42.189C41.3698 41.9983 41.1754 41.7747 41.0251 41.518L42.4111 40.847C42.5064 41.023 42.6421 41.1568 42.8181 41.2485C42.9978 41.3402 43.1921 41.386 43.4011 41.386C43.6248 41.386 43.8356 41.3475 44.0336 41.2705C44.2316 41.1972 44.3893 41.0853 44.5066 40.935C44.6276 40.7883 44.6844 40.605 44.6771 40.385V38.658H44.8641V34.06H46.1731V40.407C46.1731 40.5537 46.1658 40.6912 46.1511 40.8195C46.1401 40.9515 46.1181 41.0817 46.0851 41.21C45.9898 41.573 45.8119 41.8718 45.5516 42.1065C45.2949 42.3412 44.9796 42.5153 44.6056 42.629C44.2316 42.7463 43.8264 42.805 43.3901 42.805ZM43.2581 40.165C42.7118 40.165 42.2333 40.0275 41.8226 39.7525C41.4119 39.4775 41.0911 39.1035 40.8601 38.6305C40.6328 38.1575 40.5191 37.624 40.5191 37.03C40.5191 36.425 40.6346 35.8878 40.8656 35.4185C41.1003 34.9455 41.4284 34.5733 41.8501 34.302C42.2718 34.0307 42.7668 33.895 43.3351 33.895C43.8998 33.895 44.3746 34.0325 44.7596 34.3075C45.1446 34.5825 45.4361 34.9565 45.6341 35.4295C45.8321 35.9025 45.9311 36.436 45.9311 37.03C45.9311 37.624 45.8303 38.1575 45.6286 38.6305C45.4306 39.1035 45.1336 39.4775 44.7376 39.7525C44.3416 40.0275 43.8484 40.165 43.2581 40.165ZM43.5001 38.834C43.8338 38.834 44.0996 38.7588 44.2976 38.6085C44.4993 38.4582 44.6441 38.2473 44.7321 37.976C44.8201 37.7047 44.8641 37.3893 44.8641 37.03C44.8641 36.6707 44.8201 36.3553 44.7321 36.084C44.6441 35.8127 44.5029 35.6018 44.3086 35.4515C44.1179 35.3012 43.8668 35.226 43.5551 35.226C43.2214 35.226 42.9464 35.3085 42.7301 35.4735C42.5174 35.6348 42.3598 35.853 42.2571 36.128C42.1544 36.3993 42.1031 36.7 42.1031 37.03C42.1031 37.3637 42.1526 37.668 42.2516 37.943C42.3506 38.2143 42.5028 38.4307 42.7081 38.592C42.9134 38.7533 43.1774 38.834 43.5001 38.834ZM50.3644 40.165C49.829 40.165 49.3524 40.0568 48.9344 39.8405C48.52 39.6205 48.1937 39.3198 47.9554 38.9385C47.7207 38.5535 47.6034 38.1153 47.6034 37.624C47.6034 37.206 47.6969 36.8118 47.8839 36.4415C48.0745 36.0712 48.3477 35.7687 48.7034 35.534L48.6704 35.996C48.4027 35.7357 48.1919 35.4607 48.0379 35.171C47.8875 34.8813 47.8124 34.555 47.8124 34.192C47.8124 33.7337 47.9205 33.334 48.1369 32.993C48.3569 32.652 48.6575 32.388 49.0389 32.201C49.4239 32.0103 49.8657 31.915 50.3644 31.915C50.863 31.915 51.303 32.0103 51.6844 32.201C52.0694 32.388 52.37 32.652 52.5864 32.993C52.8064 33.334 52.9164 33.7337 52.9164 34.192C52.9164 34.555 52.8449 34.8813 52.7019 35.171C52.5589 35.457 52.3407 35.7357 52.0474 36.007V35.545C52.3957 35.765 52.6634 36.062 52.8504 36.436C53.041 36.81 53.1364 37.206 53.1364 37.624C53.1364 38.1153 53.0172 38.5535 52.7789 38.9385C52.5405 39.3198 52.2124 39.6205 51.7944 39.8405C51.3764 40.0568 50.8997 40.165 50.3644 40.165ZM50.3644 38.757C50.7164 38.757 51.0024 38.6617 51.2224 38.471C51.4424 38.2803 51.5524 37.998 51.5524 37.624C51.5524 37.2537 51.4424 36.9713 51.2224 36.777C51.0024 36.579 50.7164 36.48 50.3644 36.48C50.0124 36.48 49.7282 36.579 49.5119 36.777C49.2955 36.9713 49.1874 37.2537 49.1874 37.624C49.1874 37.998 49.2955 38.2803 49.5119 38.471C49.7282 38.6617 50.0124 38.757 50.3644 38.757ZM50.3644 35.061C50.6504 35.061 50.8832 34.9913 51.0629 34.852C51.2425 34.709 51.3324 34.489 51.3324 34.192C51.3324 33.895 51.2425 33.675 51.0629 33.532C50.8832 33.3853 50.6504 33.312 50.3644 33.312C50.0784 33.312 49.8455 33.3853 49.6659 33.532C49.4862 33.675 49.3964 33.895 49.3964 34.192C49.3964 34.489 49.4862 34.709 49.6659 34.852C49.8455 34.9913 50.0784 35.061 50.3644 35.061Z" />
                <defs>
                  <pattern id="pattern0_506_2" patternContentUnits="objectBoundingBox" width="1" height="1">
                    <use class="logo" xlink:href="#image0_506_2"
                      transform="matrix(0.00782269 0 0 0.00847458 -0.0241199 0)" />
                  </pattern>
                  <image id="image0_506_2" width="134" height="118"
                    xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAB2CAMAAAA6NRu6AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAowVGyQAAABF0Uk5TADBAYIBwsOD/wBDwIKCQUNCUHmSSAAADI0lEQVR4nO2b65KqMBCEJQSQBJD3f9oD6orFhiGZ7qB1lv7plu5XQzJ3LpdTp079FRWmtC8Z8wECU9XNda2mtQeyuLL2vxBeaqvuEIZ2G+HHKrlJul6ww7vqjE/H7BvizSRlHoguBeIOksEibkiEmNWyz8gt8kysZZkQrtZBTBoLGoVRmuKhikRRIRCTeseg6EGK6cHgHG6EKa5Xjx4QCgXMQaKYPMgXUIwldDg456JHXaneaS0QFr4lmiiyEmyJKYzAEIwQ20Ee/G4KhvdMzS7W8pS0x6IUlMiKPhJSfAcfCSGYzTIYBeeJXC6/K7JPUJSx/7BpZ63P0Y1DEWeMcSlYnbFv4YeVBkcYw9u1m+6Gp1FGEsX+NQkHLHf3NZ5VmxR7FPXWdZwLO1plshNZRS9dNaFPl2ZMgqlkB6q5jcu342OuHOBVPkGDIdYlOs+kwRCfiS6RUXxfvCfKa6DAkCpWrWdSYEjpuDa3VPyCcDR6JYXCbzjBGLyOya6EhAeqQxMlnNC0VLuzIZk5K3hItK2Qkafll2Gz2uUPonG3L0ribcUwtnON4TswEjt6GMa220j0XRjGJsW3YCQ6r//cGodibFdKiRhFu2g594df2PCPxuZNNPeFYWwnxEBRmI5BC20YhlBG63tq6RhZ0p50DMFx6JNABYbQYlGnxAoMqXbUFggKjBzlkgIjR/GowJD7b7rHosHI0FjQYGRos2gwsKZTsEhVYUAtOB+KPCqMTsbYaUiG8gEVBtaeDV2m4ZWHpYTHiGGf0KxuOLOUC9q6V4eetcBBBm3HCZxxsVacvmTIha6wsDgcOABlcaATes5QmrA1wZnvOGwIemWt4u3OunblKZtn0U5MMAjDgxDWWRj7LIQFuEktPqQmLBlNagbQi9DWz4Jz0QQOjj3wrRLG+WBslaBbPkLumqQSDHOsqX2BHFTPWipRbnc/1NIS5FlGF+hY4X6RVZyQgWqKh1zq1aXv3D8V/T7GrD7jOxmuijsjfsj9rozZN0md6Z2QlW7DtiNpemx/OU1d4P0l3w7lEe8trVGMeY68b8aYDwCcOnXqA/oHaDysMcpamiYAAAAASUVORK5CYII=" />
                </defs>
              </svg>

              <div class="slogo"></div>
            </div>
            <ul class="nav w-100 links-scroll" style="padding: 0px 20px 20px;margin-top: 35px;">
                <?php
                $data = gettingmenuzero();
                foreach ($data as $row) {
                    $childItems = gettingchildnew($row['menu_id']);
                    
                    if (empty($childItems)) {
                        echo '<li class="nav-item d-flex align-items-center menu">';
                        echo '<img class="sico1" src="' . base_url() . '/public/Dashboard/assets/dash-icon.svg" alt="" />';
                        echo '<a class="nav-link active text-dark" href="' . base_url() .$row['url'] . '" style="margin-left: -5px">';
                        echo '<span>' . $row['title'] . '</span></a></li>';
                    } else {
                        // Use # in the data-target to reference the id of the submenu
                        echo '<li class="nav-item d-block menu" data-toggle="collapse" data-target="#submenu_' . $row['menu_id'] . '" aria-expanded="false" aria-controls="submenu_' . $row['menu_id'] . '">';
                        echo '<div class="d-flex justify-content-between align-items-center">';
                        echo '<div class="d-flex">';
                        echo '<img class="sico2" src="' . base_url() . '/public/Dashboard/assets/attendence-icon.svg" alt="" />';
                        echo '<a class="nav-link" href="#">' . $row['title'] . '</a>';
                        echo '</div>';
                        echo '<span style="color: #000;" class="ml-auto">&#9662;</span>';
                        echo '</div>';
                        // Add the id here with submenu_ prefix
                        echo '<ul class="collapse list-unstyled" id="submenu_' . $row['menu_id'] . '">';
                        echo $childItems;
                        echo '</ul>';
                        echo '</li>';
                    }
                }
                ?>


            </ul>
          </div>
        </nav>
      </div>
      
      <script>
      $(document).ready(function() {
      // alert("dfdfdsfsd");
    $('.menu').click(function() {
     // $('.menu').removeClass('dash');
     // $(this).addClass('dash');
      
      
    });
    

});

      </script>